<html><head><title>Module Lwt_term </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="https://ocsigen.org/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script type="text/javascript" src="https://ocsigen.org/js/client.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js">
//<![CDATA[

//]]>
</script></head><body class="Lwt_term lwt"><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href=".././../../" class="ocsimore_phrasing_link"><img src=".././../../img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Lwt</p><div class="mainmenu"><p class="mainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a></p><p class="mainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a></p><p><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a></p><p><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a></p><p class="mainmenu-current"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a></p><p><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a></p><p><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a></p></div><form id="googlesearch" action="https://google.com/search"><input name="q" id="gsearch-box" placeholder="Search using Google"/><label for="gsearch-box"><img src="/img/search.svg" alt="" id="gsearch-icon"/></label><input type="submit" id="gsearch-submit" onclick="document.getElementById('gsearch-box').value += ' site:ocsigen.org';"/></form><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-project"><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-toolkit/" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-project"><a href=".././../../html_of_wiki/" class="ocsimore_phrasing_link">html_of_wiki</a>
</li><li class="drawermainmenu-project"><a href=".././../../deriving/" class="ocsimore_phrasing_link">deriving</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsimore/" class="ocsimore_phrasing_link">Ocsimore (<em>deprecated</em>)</a>
</li><li class="drawermainmenu-page"><a href=".././../../projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href=".././../../papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href=".././../../credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href=".././../../contributing" class="ocsimore_phrasing_link">Contributing</a>
</li><li class="drawermainmenu-page"><a href=".././../../blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href=".././../../install" class="ocsimore_phrasing_link">Installation</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1>Lwt - API Reference</h1><h2>Core library</h2><h3><a href=".././api/Lwt" class="ocsimore_phrasing_link">Lwt</a></h3><h3><a href=".././api/Lwt_condition" class="ocsimore_phrasing_link">Lwt_condition</a></h3><h3><a href=".././api/Lwt_list" class="ocsimore_phrasing_link">Lwt_list</a></h3><h3><a href=".././api/Lwt_mutex" class="ocsimore_phrasing_link">Lwt_mutex</a></h3><h3><a href=".././api/Lwt_mvar" class="ocsimore_phrasing_link">Lwt_mvar</a></h3><h3><a href=".././api/Lwt_pool" class="ocsimore_phrasing_link">Lwt_pool</a></h3><h3><a href=".././api/Lwt_sequence" class="ocsimore_phrasing_link">Lwt_sequence</a></h3><h3><a href=".././api/Lwt_stream" class="ocsimore_phrasing_link">Lwt_stream</a></h3><h2>Unix bindings</h2><h3><a href=".././api/Lwt_daemon" class="ocsimore_phrasing_link">Lwt_daemon</a></h3><h3><a href=".././api/Lwt_gc" class="ocsimore_phrasing_link">Lwt_gc</a></h3><h3><a href=".././api/Lwt_io" class="ocsimore_phrasing_link">Lwt_io</a></h3><h3><a href=".././api/Lwt_log" class="ocsimore_phrasing_link">Lwt_log</a></h3><h3><a href=".././api/Lwt_main" class="ocsimore_phrasing_link">Lwt_main</a></h3><h3><a href=".././api/Lwt_process" class="ocsimore_phrasing_link">Lwt_process</a></h3><h3><a href=".././api/Lwt_throttle" class="ocsimore_phrasing_link">Lwt_throttle</a></h3><h3><a href=".././api/Lwt_timeout" class="ocsimore_phrasing_link">Lwt_timeout</a></h3><h3><a href=".././api/Lwt_unix" class="ocsimore_phrasing_link">Lwt_unix</a></h3><h2>Reactive programming helpers</h2><h3><a href=".././api/Lwt_event" class="ocsimore_phrasing_link">Lwt_event</a></h3><h3><a href=".././api/Lwt_signal" class="ocsimore_phrasing_link">Lwt_signal</a></h3><h2>Syntax extensions</h2><h3><a href=".././api/Pa_lwt" class="ocsimore_phrasing_link">Pa_lwt</a></h3><h3><a href=".././api/Pa_log" class="ocsimore_phrasing_link">Pa_log</a></h3><h2>Terminal manipulation</h2><h3><a href=".././api/Lwt_read_line" class="ocsimore_phrasing_link">Lwt_read_line</a></h3><h3><a href=".././api/Lwt_term" class="ocsimore_phrasing_link">Lwt_term</a></h3><h3><a href=".././api/Lwt_text" class="ocsimore_phrasing_link">Lwt_text</a></h3><h2>Miscellaneous</h2><h3><a href=".././api/Lwt_glib" class="ocsimore_phrasing_link">Lwt_glib</a></h3><h3><a href=".././api/Lwt_lib" class="ocsimore_phrasing_link">Lwt_lib</a></h3><h3><a href=".././api/Lwt_preemptive" class="ocsimore_phrasing_link">Lwt_preemptive</a></h3><h3><a href=".././api/Lwt_ssl" class="ocsimore_phrasing_link">Lwt_ssl</a></h3><h2>Index</h2></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value=".././../1.0.0/api/Lwt_term">1.0.0</option><option value=".././../1.1.0/api/Lwt_term">1.1.0</option><option value=".././../2.0.0/api/Lwt_term">2.0.0</option><option value=".././../2.1.0/api/Lwt_term" selected="selected">2.1.0</option><option value=".././../2.1.1/api/Lwt_term">2.1.1</option><option value=".././../2.2.0/api/Lwt_term">2.2.0</option><option value=".././../2.2.1/api/Lwt_term">2.2.1</option><option value=".././../2.3.0/api/Lwt_term">2.3.0</option><option value=".././../2.3.1/api/Lwt_term">2.3.1</option><option value=".././../2.3.2/api/Lwt_term">2.3.2</option><option value=".././../2.4.0/api/Lwt_term">2.4.0</option><option value=".././../2.4.1/api/Lwt_term">2.4.1</option><option value=".././../2.4.2/api/Lwt_term">2.4.2</option><option value=".././../2.4.3/api/Lwt_term">2.4.3</option><option value=".././../2.4.7/api/Lwt_term">2.4.7</option><option value=".././../2.4.8/api/Lwt_term">2.4.8</option><option value=".././../2.5.0/api/Lwt_term">2.5.0</option><option value=".././../2.5.1/api/Lwt_term">2.5.1</option><option value=".././../2.5.2/api/Lwt_term">2.5.2</option><option value=".././../2.6.0/api/Lwt_term">2.6.0</option><option value=".././../2.7.0/api/Lwt_term">2.7.0</option><option value=".././../2.7.1/api/Lwt_term">2.7.1</option><option value=".././../3.0.0/api/Lwt_term">3.0.0</option><option value=".././../3.1.0/api/Lwt_term">3.1.0</option><option value=".././../3.2.1/api/Lwt_term">3.2.1</option><option value=".././../3.3.0/api/Lwt_term">3.3.0</option><option value=".././../4.0.0/api/Lwt_term">4.0.0</option><option value=".././../4.0.1/api/Lwt_term">4.0.1</option><option value=".././../4.1.0/api/Lwt_term">4.1.0</option><option value=".././../4.2.0/api/Lwt_term">4.2.0</option><option value=".././../4.2.1/api/Lwt_term">4.2.1</option><option value=".././../4.3.0/api/Lwt_term">4.3.0</option><option value=".././../4.3.1/api/Lwt_term">4.3.1</option><option value=".././../4.4.0/api/Lwt_term">4.4.0</option><option value=".././../4.5.0/api/Lwt_term">4.5.0</option><option value=".././../5.0.0/api/Lwt_term">5.0.0</option><option value=".././../5.0.1/api/Lwt_term">5.0.1</option><option value=".././../5.1.0/api/Lwt_term">5.1.0</option><option value=".././../5.1.1/api/Lwt_term">5.1.1</option><option value=".././../5.1.2/api/Lwt_term">5.1.2</option><option value=".././../5.2.0/api/Lwt_term">5.2.0</option><option value=".././../5.3.0/api/Lwt_term">5.3.0</option><option value=".././../dev/api/Lwt_term">dev</option></select><nav class="how-doctree"><h1>Lwt - API Reference</h1><h2>Core library</h2><h3><a href=".././api/Lwt" class="ocsimore_phrasing_link">Lwt</a></h3><h3><a href=".././api/Lwt_condition" class="ocsimore_phrasing_link">Lwt_condition</a></h3><h3><a href=".././api/Lwt_list" class="ocsimore_phrasing_link">Lwt_list</a></h3><h3><a href=".././api/Lwt_mutex" class="ocsimore_phrasing_link">Lwt_mutex</a></h3><h3><a href=".././api/Lwt_mvar" class="ocsimore_phrasing_link">Lwt_mvar</a></h3><h3><a href=".././api/Lwt_pool" class="ocsimore_phrasing_link">Lwt_pool</a></h3><h3><a href=".././api/Lwt_sequence" class="ocsimore_phrasing_link">Lwt_sequence</a></h3><h3><a href=".././api/Lwt_stream" class="ocsimore_phrasing_link">Lwt_stream</a></h3><h2>Unix bindings</h2><h3><a href=".././api/Lwt_daemon" class="ocsimore_phrasing_link">Lwt_daemon</a></h3><h3><a href=".././api/Lwt_gc" class="ocsimore_phrasing_link">Lwt_gc</a></h3><h3><a href=".././api/Lwt_io" class="ocsimore_phrasing_link">Lwt_io</a></h3><h3><a href=".././api/Lwt_log" class="ocsimore_phrasing_link">Lwt_log</a></h3><h3><a href=".././api/Lwt_main" class="ocsimore_phrasing_link">Lwt_main</a></h3><h3><a href=".././api/Lwt_process" class="ocsimore_phrasing_link">Lwt_process</a></h3><h3><a href=".././api/Lwt_throttle" class="ocsimore_phrasing_link">Lwt_throttle</a></h3><h3><a href=".././api/Lwt_timeout" class="ocsimore_phrasing_link">Lwt_timeout</a></h3><h3><a href=".././api/Lwt_unix" class="ocsimore_phrasing_link">Lwt_unix</a></h3><h2>Reactive programming helpers</h2><h3><a href=".././api/Lwt_event" class="ocsimore_phrasing_link">Lwt_event</a></h3><h3><a href=".././api/Lwt_signal" class="ocsimore_phrasing_link">Lwt_signal</a></h3><h2>Syntax extensions</h2><h3><a href=".././api/Pa_lwt" class="ocsimore_phrasing_link">Pa_lwt</a></h3><h3><a href=".././api/Pa_log" class="ocsimore_phrasing_link">Pa_log</a></h3><h2>Terminal manipulation</h2><h3><a href=".././api/Lwt_read_line" class="ocsimore_phrasing_link">Lwt_read_line</a></h3><h3><a href=".././api/Lwt_term" class="ocsimore_phrasing_link">Lwt_term</a></h3><h3><a href=".././api/Lwt_text" class="ocsimore_phrasing_link">Lwt_text</a></h3><h2>Miscellaneous</h2><h3><a href=".././api/Lwt_glib" class="ocsimore_phrasing_link">Lwt_glib</a></h3><h3><a href=".././api/Lwt_lib" class="ocsimore_phrasing_link">Lwt_lib</a></h3><h3><a href=".././api/Lwt_preemptive" class="ocsimore_phrasing_link">Lwt_preemptive</a></h3><h3><a href=".././api/Lwt_ssl" class="ocsimore_phrasing_link">Lwt_ssl</a></h3><h2>Index</h2></nav></nav><article class="rightcol"><h1>Module <span><a href=".././api/Lwt_term">Lwt_term</a></span> </h1><div class="code"><p><span class="keyword">module</span> Lwt_term: <span class="code">sig</span><span><a href=".././api/Lwt_term">..</a></span><span class="code">end</span></p></div><p>Terminal control<br/>
</p><hr/><p><br/>
This modules allow you to write interactive programs using the
terminal.<br/>
</p><div class="code" id="VALwith_raw_mode"><p><span class="keyword">val</span> with_raw_mode : <span class="code type">(unit -&gt; 'a <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span>) -&gt; 'a <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">with_raw_mode f</span> executes <span class="code">f</span> while the terminal is in ``raw
mode''. Raw mode means that character are returned as the user
type them (otherwise only complete line are returned to the
program).<br/>
</p><p>If the terminal is already in raw mode, it just calls <span class="code">f</span>.<br/></p></div><div class="code" id="VALraw_mode"><p><span class="keyword">val</span> raw_mode : <span class="code type">unit -&gt; bool</span></p></div><div class="info"><p>Returns wether the terminal is currently in raw mode<br/></p></div><div class="code" id="VALenter_drawing_mode"><p><span class="keyword">val</span> enter_drawing_mode : <span class="code type">unit -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p>Put the terminal into drawing mode<br/></p></div><div class="code" id="VALleave_drawing_mode"><p><span class="keyword">val</span> leave_drawing_mode : <span class="code type">unit -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p>Restore the state of the terminal<br/></p></div><div class="code" id="VALshow_cursor"><p><span class="keyword">val</span> show_cursor : <span class="code type">unit -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">show_cursor ()</span> makes the cursor visible<br/></p></div><div class="code" id="VALhide_cursor"><p><span class="keyword">val</span> hide_cursor : <span class="code type">unit -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">hide_cursor ()</span> makes the cursor invisible<br/></p></div><div class="code" id="VALclear_screen"><p><span class="keyword">val</span> clear_screen : <span class="code type">unit -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">clear_screen ()</span> clears the entire screen<br/></p></div><div class="code" id="VALclear_line"><p><span class="keyword">val</span> clear_line : <span class="code type">unit -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">clear_line ()</span> clears the current line<br/></p></div><div class="code" id="VALgoto_beginning_of_line"><p><span class="keyword">val</span> goto_beginning_of_line : <span class="code type">int -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">goto_beginning_of_line n</span> put the cursor at the beginning of
the <span class="code">n</span>th previous line.<br/>
</p><ul><li> <span class="code">goto_beginning_of_line 0</span> goes to the beginning of the current line
</li><li> <span class="code">goto_beginning_of_line 1</span> goes to the beginning of the previous line
</li><li> ...
</li></ul><p><br/></p></div><p><br/>
</p><h6 id="6_Terminalinformations">Terminal informations <a class="backref" href="#6_Terminalinformations">&#182;</a></h6><p><br/>
</p><div class="code" id="TYPEsize"><p><span class="keyword">type</span> size = { 
</p><table class="typetable"><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">lines : <span class="code type">int</span>;</td></tr><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">columns : <span class="code type">int</span>;</td></tr></table><p>}</p></div><div class="info"><p>Terminal sizes:<br/></p></div><div class="code" id="VALsize"><p><span class="keyword">val</span> size : <span class="code type"><span><a href=".././api/Lwt_term#TYPEsize">size</a></span> React.signal</span></p></div><div class="info"><p>Size of the terminal.<br/></p></div><div class="code" id="VALcolumns"><p><span class="keyword">val</span> columns : <span class="code type">int React.signal</span></p></div><div class="info"><p>Number of columns of the terminal<br/></p></div><div class="code" id="VALlines"><p><span class="keyword">val</span> lines : <span class="code type">int React.signal</span></p></div><div class="info"><p>Number of lines of the terminal<br/></p></div><p><br/>
</p><h6 id="6_Keys">Keys <a class="backref" href="#6_Keys">&#182;</a></h6><p><br/>
</p><div class="code" id="VALparse_key_raw"><p><span class="keyword">val</span> parse_key_raw : <span class="code type">Text.t <span><a href=".././api/Lwt_stream#TYPEt">Lwt_stream.t</a></span> -&gt; Text.t <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">parse_key_raw st</span> recognize escape sequence in a stream of
unicode character.<br/>
</p><p>It returns either:* either single characters, like <span class="code">&quot;a&quot;</span>, <span class="code">&quot;é&quot;</span>, ...
</p><ul><li> either escape sequences
</li></ul><p><br/></p></div><div class="code" id="TYPEkey"><p><span class="keyword">type</span> key = 
</p><table class="typetable"><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key</span> <span class="keyword">of</span> <span class="code type">Text.t</span></td><td class="typefieldcomment lefttop startcom"><span class="teletype">(*</span></td><td class="typefieldcomment lefttop">A unicode character or an uninterpreted sequence</td><td class="typefieldcomment leftbottom endcom"><span class="teletype">*)</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_up</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_down</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_left</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_right</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_f</span> <span class="keyword">of</span> <span class="code type">int</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_next_page</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_previous_page</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_home</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_end</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_insert</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_delete</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Key_control</span> <span class="keyword">of</span> <span class="code type">char</span></td><td class="typefieldcomment lefttop startcom"><span class="teletype">(*</span></td><td class="typefieldcomment lefttop">A control key</td><td class="typefieldcomment leftbottom endcom"><span class="teletype">*)</span></td></tr></table></div><div class="info"><p>Type of ``decoded'' keys.<br/>
</p><p>This list is not exhaustive, but at least it should works on all
terminals:<br/></p></div><div class="code" id="VALstring_of_key"><p><span class="keyword">val</span> string_of_key : <span class="code type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span> -&gt; string</span></p></div><div class="info"><p><span class="code">string_of_key key</span> string representation of a key<br/></p></div><div class="code" id="VALcontrol_mapping"><p><span class="keyword">val</span> control_mapping : <span class="code type">(int * char) list</span></p></div><div class="info"><p>Mapping from control key codes to character codes.<br/>
</p><p>Here is the list of control keys:<br/>
</p><p>
</p><pre>        +------+-------+------+------+------+-------+------------------------------------------------+
        | Char |   Oct |  Dec | Name |  Hex |  Key  | Comment                                        |
        +------+-------+------+------+------+-------+------------------------------------------------+
        |  '@' |  0o00 |    0 |  NUL | 0x00 | ^@ \0 | Null byte                                      |
        |  'a' |  0o01 |    1 |  SOH | 0x01 | ^A    | Start of heading                               |
        |  'b' |  0o02 |    2 |  STX | 0x02 | ^B    | Start of text                                  |
        |  'c' |  0o03 |    3 |  ETX | 0x03 | ^C    | End of text                                    |
        |  'd' |  0o04 |    4 |  EOT | 0x04 | ^D    | End of transmission                            |
        |  'e' |  0o05 |    5 |  ENQ | 0x05 | ^E    | Enquiry                                        |
        |  'f' |  0o06 |    6 |  ACK | 0x06 | ^F    | Acknowledge                                    |
        |  'g' |  0o07 |    7 |  BEL | 0x07 | ^G    | Ring terminal bell                             |
        |  'h' |  0o10 |    8 |   BS | 0x08 | ^H \b | Backspace                                      |
        |  'i' |  0o11 |    9 |   HT | 0x09 | ^I \t | Horizontal tab                                 |
        |  'j' |  0o12 |   10 |   LF | 0x0a | ^J \n | Line feed                                      |
        |  'k' |  0o13 |   11 |   VT | 0x0b | ^K    | Vertical tab                                   |
        |  'l' |  0o14 |   12 |   FF | 0x0c | ^L \f | Form feed                                      |
        |  'm' |  0o15 |   13 |   CR | 0x0d | ^M \r | Carriage return                                |
        |  'n' |  0o16 |   14 |   SO | 0x0e | ^N    | Shift out                                      |
        |  'o' |  0o17 |   15 |   SI | 0x0f | ^O    | Shift in                                       |
        |  'p' |  0o20 |   16 |  DLE | 0x10 | ^P    | Data link escape                               |
        |  'q' |  0o21 |   17 |  DC1 | 0x11 | ^Q    | Device control 1 (XON)                         |
        |  'r' |  0o22 |   18 |  DC2 | 0x12 | ^R    | Device control 2                               |
        |  's' |  0o23 |   19 |  DC3 | 0x13 | ^S    | Device control 3 (XOFF)                        |
        |  't' |  0o24 |   20 |  DC4 | 0x14 | ^T    | Device control 4                               |
        |  'u' |  0o25 |   21 |  NAK | 0x15 | ^U    | Negative acknowledge                           |
        |  'v' |  0o26 |   22 |  SYN | 0x16 | ^V    | Synchronous idle                               |
        |  'w' |  0o27 |   23 |  ETB | 0x17 | ^W    | End of transmission block                      |
        |  'x' |  0o30 |   24 |  CAN | 0x18 | ^X    | Cancel                                         |
        |  'y' |  0o31 |   25 |   EM | 0x19 | ^Y    | End of medium                                  |
        |  'z' |  0o32 |   26 |  SUB | 0x1a | ^Z    | Substitute character                           |
        |  '[' |  0o33 |   27 |  ESC | 0x1b | ^[    | Escape                                         |
        |  '\' |  0o34 |   28 |   FS | 0x1c | ^\    | File separator, Information separator four     |
        |  ']' |  0o35 |   29 |   GS | 0x1d | ^]    | Group separator, Information separator three   |
        |  '^' |  0o36 |   30 |   RS | 0x1e | ^^    | Record separator, Information separator two    |
        |  '_' |  0o37 |   31 |   US | 0x1f | ^_    | Unit separator, Information separator one      |
        |  '?' | 0o177 |  127 |  DEL | 0x7f | ^?    | Delete                                         |
        +------+-------+------+------+------+-------+------------------------------------------------+
      
</pre><p><br/></p></div><div class="code" id="VALkey_enter"><p><span class="keyword">val</span> key_enter : <span class="code type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></p></div><div class="info"><p><span class="code">key_enter = Key_control 'j'</span><br/></p></div><div class="code" id="VALkey_escape"><p><span class="keyword">val</span> key_escape : <span class="code type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></p></div><div class="info"><p><span class="code">key_escape = Key_control '['</span><br/></p></div><div class="code" id="VALkey_tab"><p><span class="keyword">val</span> key_tab : <span class="code type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></p></div><div class="info"><p><span class="code">key_escape = Key_control 'i'</span><br/></p></div><div class="code" id="VALkey_backspace"><p><span class="keyword">val</span> key_backspace : <span class="code type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></p></div><div class="info"><p><span class="code">key_backspace = Key_control '?'</span><br/></p></div><div class="code" id="VALsequence_mapping"><p><span class="keyword">val</span> sequence_mapping : <span class="code type">(Text.t * <span><a href=".././api/Lwt_term#TYPEkey">key</a></span>) list</span></p></div><div class="info"><p>Mapping from sequence to keys<br/></p></div><div class="code" id="VALdecode_key"><p><span class="keyword">val</span> decode_key : <span class="code type">Text.t -&gt; <span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></p></div><div class="info"><p>Decode a key.<br/></p></div><div class="code" id="VALstandard_input"><p><span class="keyword">val</span> standard_input : <span class="code type">Text.t <span><a href=".././api/Lwt_stream#TYPEt">Lwt_stream.t</a></span></span></p></div><div class="info"><p>The input stream used by <span><a href=".././api/Lwt_term#VALread_key">Lwt_term.read_key</a></span><br/></p></div><div class="code" id="VALread_key"><p><span class="keyword">val</span> read_key : <span class="code type">unit -&gt; <span><a href=".././api/Lwt_term#TYPEkey">key</a></span> <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p>Get and decode a key from <span><a href=".././api/Lwt_term#VALstandard_input">Lwt_term.standard_input</a></span><br/></p></div><p><br/>
</p><h6 id="6_Styles">Styles <a class="backref" href="#6_Styles">&#182;</a></h6><p><br/>
</p><div class="code" id="TYPEcolor"><p><span class="keyword">type</span> color = <span class="code type">int</span></p></div><div class="info"><p>Type of a color. Most modern terminals support either 88 or
256 colors.<br/></p></div><div class="code" id="VALset_color"><p><span class="keyword">val</span> set_color : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span> -&gt; int * int * int -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">set_color num (red, green, blue)</span> sets the three components of
the color number <span class="code">num</span><br/></p></div><p><br/>
</p><div class="h8"><p>Standard colors</p></div><p><br/>
</p><div class="code" id="VALdefault"><p><span class="keyword">val</span> default : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALblack"><p><span class="keyword">val</span> black : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALred"><p><span class="keyword">val</span> red : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALgreen"><p><span class="keyword">val</span> green : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALyellow"><p><span class="keyword">val</span> yellow : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALblue"><p><span class="keyword">val</span> blue : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALmagenta"><p><span class="keyword">val</span> magenta : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALcyan"><p><span class="keyword">val</span> cyan : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALwhite"><p><span class="keyword">val</span> white : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><p><br/>
</p><div class="h8"><p>Light colors</p></div><p><br/>
<br/>
Note: these colors are not supposed to works on all terminals, but
in practice it works with all modern ones. By the way, using
standard colors + bold mode will give the same result as using a
light color.<br/>
</p><div class="code" id="VALlblack"><p><span class="keyword">val</span> lblack : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALlred"><p><span class="keyword">val</span> lred : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALlgreen"><p><span class="keyword">val</span> lgreen : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALlyellow"><p><span class="keyword">val</span> lyellow : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALlblue"><p><span class="keyword">val</span> lblue : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALlmagenta"><p><span class="keyword">val</span> lmagenta : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALlcyan"><p><span class="keyword">val</span> lcyan : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><div class="code" id="VALlwhite"><p><span class="keyword">val</span> lwhite : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></p></div><p><br/>
</p><div class="h8"><p>Text with styles</p></div><p><br/>
</p><div class="code" id="TYPEstyled_text_instruction"><p><span class="keyword">type</span> styled_text_instruction = 
</p><table class="typetable"><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Text</span> <span class="keyword">of</span> <span class="code type">Text.t</span></td><td class="typefieldcomment lefttop startcom"><span class="teletype">(*</span></td><td class="typefieldcomment lefttop">Some text</td><td class="typefieldcomment leftbottom endcom"><span class="teletype">*)</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Reset</span></td><td class="typefieldcomment lefttop startcom"><span class="teletype">(*</span></td><td class="typefieldcomment lefttop">Resets all styles to default</td><td class="typefieldcomment leftbottom endcom"><span class="teletype">*)</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Bold</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Underlined</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Blink</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Inverse</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Hidden</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Foreground</span> <span class="keyword">of</span> <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Background</span> <span class="keyword">of</span> <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></td></tr></table></div><div class="info"><p>Elmement of a styled-text<br/></p></div><div class="code" id="TYPEstyled_text"><p><span class="keyword">type</span> styled_text = <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span> list</span></p></div><div class="info"><p>A styled text is a list of instructions<br/></p></div><div class="code" id="VALtextf"><p><span class="keyword">val</span> textf : <span class="code type">('a, unit, string, <span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span>) Pervasives.format4 -&gt; 'a</span></p></div><div class="info"><p><span class="code">textf fmt</span> formats a texts with <span class="code">fmt</span> and returns <span class="code">Text txt</span><br/></p></div><div class="code" id="VALtext"><p><span class="keyword">val</span> text : <span class="code type">Text.t -&gt; <span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="code" id="VALreset"><p><span class="keyword">val</span> reset : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="code" id="VALbold"><p><span class="keyword">val</span> bold : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="code" id="VALunderlined"><p><span class="keyword">val</span> underlined : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="code" id="VALblink"><p><span class="keyword">val</span> blink : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="code" id="VALinverse"><p><span class="keyword">val</span> inverse : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="code" id="VALhidden"><p><span class="keyword">val</span> hidden : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="code" id="VALfg"><p><span class="keyword">val</span> fg : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span> -&gt; <span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="info"><p><span class="code">fg col = Foreground col</span><br/></p></div><div class="code" id="VALbg"><p><span class="keyword">val</span> bg : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span> -&gt; <span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></p></div><div class="info"><p><span class="code">bg col = Background col</span><br/></p></div><div class="code" id="VALstrip_styles"><p><span class="keyword">val</span> strip_styles : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> -&gt; Text.t</span></p></div><div class="info"><p>Drop all styles<br/></p></div><div class="code" id="VALstyled_length"><p><span class="keyword">val</span> styled_length : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> -&gt; int</span></p></div><div class="info"><p>Returns the length (in unicode character) of the given styled
text. The following equality holds for all styled-texts:<br/>
</p><p><span class="code">styled_length st = Text.length (strip_styles st)</span><br/></p></div><div class="code" id="VALwrite_styled"><p><span class="keyword">val</span> write_styled : <span class="code type"><span><a href=".././api/Lwt_text#TYPEoutput_channel">Lwt_text.output_channel</a></span> -&gt; <span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">write_styled oc st</span> writes <span class="code">st</span> on <span class="code">oc</span> using escape
sequences.<br/></p></div><div class="code" id="VALprintc"><p><span class="keyword">val</span> printc : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">printc st</span> prints the given styled text on standard output. If
stdout is not a tty, then styles are stripped.<br/>
</p><p>The text is encoded to the system encoding before being
output.<br/></p></div><div class="code" id="VALeprintc"><p><span class="keyword">val</span> eprintc : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p>Same as <span class="code">printc</span> but prints on stderr.<br/></p></div><div class="code" id="VALprintlc"><p><span class="keyword">val</span> printlc : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">printlc st</span> prints <span class="code">st</span>, then reset styles and prints a
newline<br/></p></div><div class="code" id="VALeprintlc"><p><span class="keyword">val</span> eprintlc : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p>Same as <span class="code">printlc</span> but prints on stderr<br/></p></div><p><br/>
</p><h6 id="6_Rendering">Rendering <a class="backref" href="#6_Rendering">&#182;</a></h6><p><br/>
</p><div class="code" id="TYPEstyle"><p><span class="keyword">type</span> style = { 
</p><table class="typetable"><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">bold : <span class="code type">bool</span>;</td></tr><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">underlined : <span class="code type">bool</span>;</td></tr><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">blink : <span class="code type">bool</span>;</td></tr><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">inverse : <span class="code type">bool</span>;</td></tr><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">hidden : <span class="code type">bool</span>;</td></tr><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">foreground : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span>;</td></tr><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">background : <span class="code type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span>;</td></tr></table><p>}</p></div><div class="info"><p>Character styles<br/></p></div><div class="code" id="TYPEpoint"><p><span class="keyword">type</span> point = { 
</p><table class="typetable"><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">char : <span class="code type">Text.t</span>;</td><td class="typefieldcomment lefttop startcom"><span class="teletype">(*</span></td><td class="typefieldcomment lefttop">The character.</td><td class="typefieldcomment leftbottom endcom"><span class="teletype">*)</span></td></tr><tr><td class="lefttop"><span class="teletype">   </span></td><td class="lefttop">style : <span class="code type"><span><a href=".././api/Lwt_term#TYPEstyle">style</a></span></span>;</td><td class="typefieldcomment lefttop startcom"><span class="teletype">(*</span></td><td class="typefieldcomment lefttop">The character style</td><td class="typefieldcomment leftbottom endcom"><span class="teletype">*)</span></td></tr></table><p>}</p></div><div class="info"><p>A character on the screen:<br/></p></div><div class="code" id="VALblank"><p><span class="keyword">val</span> blank : <span class="code type"><span><a href=".././api/Lwt_term#TYPEpoint">point</a></span></span></p></div><div class="info"><p>A space with default color and styles<br/></p></div><div class="code" id="VALrender"><p><span class="keyword">val</span> render : <span class="code type"><span><a href=".././api/Lwt_term#TYPEpoint">point</a></span> array array -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p>Render an offscreen array to the terminal.<br/></p></div><div class="code" id="VALrender_update"><p><span class="keyword">val</span> render_update : <span class="code type"><span><a href=".././api/Lwt_term#TYPEpoint">point</a></span> array array -&gt; <span><a href=".././api/Lwt_term#TYPEpoint">point</a></span> array array -&gt; unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></p></div><div class="info"><p><span class="code">render_update displayed to_display</span> does the same as <span class="code">render
to_display</span> but assumes that <span class="code">displayed</span> contains the current
displayed text. This reduces the amount of text sent to the
terminal.<br/></p></div><p><br/>
</p><h6 id="6_Drawing">Drawing <a class="backref" href="#6_Drawing">&#182;</a></h6><p><br/>
</p><div class="code"><p><span class="keyword">module</span> <span><a href=".././api/Lwt_term.Zone">Zone</a></span>: <span class="code">sig</span><span><a href=".././api/Lwt_term.Zone">..</a></span><span class="code">end</span></p></div><div class="info"><p>Off-screen zones</p></div><div class="code"><p><span class="keyword">module</span> <span><a href=".././api/Lwt_term.Draw">Draw</a></span>: <span class="code">sig</span><span><a href=".././api/Lwt_term.Draw">..</a></span><span class="code">end</span></p></div><div class="info"><p>Drawing helpers</p></div></article></div></div></body></html>
