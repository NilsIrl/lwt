<html><head><title>Module Lwt_term </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="https://ocsigen.org/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script type="text/javascript" src="https://ocsigen.org/js/client.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js">
//<![CDATA[

//]]>
</script></head><body class="Lwt_term lwt"><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href=".././../../" class="ocsimore_phrasing_link"><img src=".././../../img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Lwt</p><div class="mainmenu"><p class="mainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a></p><p class="mainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a></p><p><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a></p><p><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a></p><p class="mainmenu-current"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a></p><p><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a></p><p><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a></p></div><form id="googlesearch" action="https://google.com/search"><input name="q" id="gsearch-box" placeholder="Search using Google"/><label for="gsearch-box"><img src="/img/search.svg" alt="" id="gsearch-icon"/></label><input type="submit" id="gsearch-submit" onclick="document.getElementById('gsearch-box').value += ' site:ocsigen.org';"/></form><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-project"><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-toolkit/" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-project"><a href=".././../../html_of_wiki/" class="ocsimore_phrasing_link">html_of_wiki</a>
</li><li class="drawermainmenu-project"><a href=".././../../deriving/" class="ocsimore_phrasing_link">deriving</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsimore/" class="ocsimore_phrasing_link">Ocsimore (<em>deprecated</em>)</a>
</li><li class="drawermainmenu-page"><a href=".././../../projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href=".././../../papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href=".././../../credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href=".././../../contributing" class="ocsimore_phrasing_link">Contributing</a>
</li><li class="drawermainmenu-page"><a href=".././../../blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href=".././../../install" class="ocsimore_phrasing_link">Installation</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1>Lwt - API Reference</h1><h2>Core library</h2><h3><a href=".././api/Lwt" class="ocsimore_phrasing_link">Lwt</a></h3><h3><a href=".././api/Lwt_condition" class="ocsimore_phrasing_link">Lwt_condition</a></h3><h3><a href=".././api/Lwt_list" class="ocsimore_phrasing_link">Lwt_list</a></h3><h3><a href=".././api/Lwt_mutex" class="ocsimore_phrasing_link">Lwt_mutex</a></h3><h3><a href=".././api/Lwt_mvar" class="ocsimore_phrasing_link">Lwt_mvar</a></h3><h3><a href=".././api/Lwt_pool" class="ocsimore_phrasing_link">Lwt_pool</a></h3><h3><a href=".././api/Lwt_sequence" class="ocsimore_phrasing_link">Lwt_sequence</a></h3><h3><a href=".././api/Lwt_pqueue" class="ocsimore_phrasing_link">Lwt_pqueue</a></h3><h3><a href=".././api/Lwt_stream" class="ocsimore_phrasing_link">Lwt_stream</a></h3><h3><a href=".././api/Lwt_switch" class="ocsimore_phrasing_link">Lwt_switch</a></h3><h2>Unix bindings</h2><h3><a href=".././api/Lwt_daemon" class="ocsimore_phrasing_link">Lwt_daemon</a></h3><h3><a href=".././api/Lwt_gc" class="ocsimore_phrasing_link">Lwt_gc</a></h3><h3><a href=".././api/Lwt_io" class="ocsimore_phrasing_link">Lwt_io</a></h3><h3><a href=".././api/Lwt_log" class="ocsimore_phrasing_link">Lwt_log</a></h3><h3><a href=".././api/Lwt_main" class="ocsimore_phrasing_link">Lwt_main</a></h3><h3><a href=".././api/Lwt_engine" class="ocsimore_phrasing_link">Lwt_engine</a></h3><h3><a href=".././api/Lwt_process" class="ocsimore_phrasing_link">Lwt_process</a></h3><h3><a href=".././api/Lwt_throttle" class="ocsimore_phrasing_link">Lwt_throttle</a></h3><h3><a href=".././api/Lwt_timeout" class="ocsimore_phrasing_link">Lwt_timeout</a></h3><h3><a href=".././api/Lwt_unix" class="ocsimore_phrasing_link">Lwt_unix</a></h3><h3><a href=".././api/Lwt_bytes" class="ocsimore_phrasing_link">Lwt_bytes</a></h3><h3><a href=".././api/Lwt_sys" class="ocsimore_phrasing_link">Lwt_sys</a></h3><h2>Reactive programming helpers</h2><h3><a href=".././api/Lwt_react" class="ocsimore_phrasing_link">Lwt_react</a></h3><h2>Syntax extensions</h2><h3><a href=".././api/Pa_lwt" class="ocsimore_phrasing_link">Pa_lwt</a></h3><h3><a href=".././api/Pa_lwt_log" class="ocsimore_phrasing_link">Pa_lwt_log</a></h3><h2>Terminal manipulation</h2><h3><a href=".././api/Lwt_read_line" class="ocsimore_phrasing_link">Lwt_read_line</a></h3><h3><a href=".././api/Lwt_term" class="ocsimore_phrasing_link">Lwt_term</a></h3><h3><a href=".././api/Lwt_text" class="ocsimore_phrasing_link">Lwt_text</a></h3><h2>Miscellaneous</h2><h3><a href=".././api/Lwt_glib" class="ocsimore_phrasing_link">Lwt_glib</a></h3><h3><a href=".././api/Lwt_lib" class="ocsimore_phrasing_link">Lwt_lib</a></h3><h3><a href=".././api/Lwt_preemptive" class="ocsimore_phrasing_link">Lwt_preemptive</a></h3><h3><a href=".././api/Lwt_ssl" class="ocsimore_phrasing_link">Lwt_ssl</a></h3><h2>Index</h2><h3> <span><a href=".././api/index_types">Index of types</a></span></h3><h3> <span><a href=".././api/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href=".././api/index_values">Index of values</a></span></h3><h3> <span><a href=".././api/index_attributes">Index of class attributes</a></span></h3><h3> <span><a href=".././api/index_methods">Index of class methods</a></span></h3><h3> <span><a href=".././api/index_classes">Index of classes</a></span></h3><h3> <span><a href=".././api/index_class_types">Index of class types</a></span></h3><h3> <span><a href=".././api/index_modules">Index of modules</a></span></h3><h3> <span><a href=".././api/index_module_types">Index of module types</a></span></h3></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value=".././../1.0.0/api/Lwt_term">1.0.0</option><option value=".././../1.1.0/api/Lwt_term">1.1.0</option><option value=".././../2.0.0/api/Lwt_term">2.0.0</option><option value=".././../2.1.0/api/Lwt_term">2.1.0</option><option value=".././../2.1.1/api/Lwt_term">2.1.1</option><option value=".././../2.2.0/api/Lwt_term">2.2.0</option><option value=".././../2.2.1/api/Lwt_term">2.2.1</option><option value=".././../2.3.0/api/Lwt_term">2.3.0</option><option value=".././../2.3.1/api/Lwt_term">2.3.1</option><option value=".././../2.3.2/api/Lwt_term">2.3.2</option><option value=".././../2.4.0/api/Lwt_term" selected="selected">2.4.0</option><option value=".././../2.4.1/api/Lwt_term">2.4.1</option><option value=".././../2.4.2/api/Lwt_term">2.4.2</option><option value=".././../2.4.3/api/Lwt_term">2.4.3</option><option value=".././../2.4.7/api/Lwt_term">2.4.7</option><option value=".././../2.4.8/api/Lwt_term">2.4.8</option><option value=".././../2.5.0/api/Lwt_term">2.5.0</option><option value=".././../2.5.1/api/Lwt_term">2.5.1</option><option value=".././../2.5.2/api/Lwt_term">2.5.2</option><option value=".././../2.6.0/api/Lwt_term">2.6.0</option><option value=".././../2.7.0/api/Lwt_term">2.7.0</option><option value=".././../2.7.1/api/Lwt_term">2.7.1</option><option value=".././../3.0.0/api/Lwt_term">3.0.0</option><option value=".././../3.1.0/api/Lwt_term">3.1.0</option><option value=".././../3.2.1/api/Lwt_term">3.2.1</option><option value=".././../3.3.0/api/Lwt_term">3.3.0</option><option value=".././../4.0.0/api/Lwt_term">4.0.0</option><option value=".././../4.0.1/api/Lwt_term">4.0.1</option><option value=".././../4.1.0/api/Lwt_term">4.1.0</option><option value=".././../4.2.0/api/Lwt_term">4.2.0</option><option value=".././../4.2.1/api/Lwt_term">4.2.1</option><option value=".././../4.3.0/api/Lwt_term">4.3.0</option><option value=".././../4.3.1/api/Lwt_term">4.3.1</option><option value=".././../4.4.0/api/Lwt_term">4.4.0</option><option value=".././../4.5.0/api/Lwt_term">4.5.0</option><option value=".././../5.0.0/api/Lwt_term">5.0.0</option><option value=".././../5.0.1/api/Lwt_term">5.0.1</option><option value=".././../5.1.0/api/Lwt_term">5.1.0</option><option value=".././../5.1.1/api/Lwt_term">5.1.1</option><option value=".././../5.1.2/api/Lwt_term">5.1.2</option><option value=".././../5.2.0/api/Lwt_term">5.2.0</option><option value=".././../5.3.0/api/Lwt_term">5.3.0</option><option value=".././../5.4.0/api/Lwt_term">5.4.0</option><option value=".././../5.4.1/api/Lwt_term">5.4.1</option><option value=".././../5.4.2/api/Lwt_term">5.4.2</option><option value=".././../5.5.0/api/Lwt_term">5.5.0</option><option value=".././../dev/api/Lwt_term">dev</option></select><nav class="how-doctree"><h1>Lwt - API Reference</h1><h2>Core library</h2><h3><a href=".././api/Lwt" class="ocsimore_phrasing_link">Lwt</a></h3><h3><a href=".././api/Lwt_condition" class="ocsimore_phrasing_link">Lwt_condition</a></h3><h3><a href=".././api/Lwt_list" class="ocsimore_phrasing_link">Lwt_list</a></h3><h3><a href=".././api/Lwt_mutex" class="ocsimore_phrasing_link">Lwt_mutex</a></h3><h3><a href=".././api/Lwt_mvar" class="ocsimore_phrasing_link">Lwt_mvar</a></h3><h3><a href=".././api/Lwt_pool" class="ocsimore_phrasing_link">Lwt_pool</a></h3><h3><a href=".././api/Lwt_sequence" class="ocsimore_phrasing_link">Lwt_sequence</a></h3><h3><a href=".././api/Lwt_pqueue" class="ocsimore_phrasing_link">Lwt_pqueue</a></h3><h3><a href=".././api/Lwt_stream" class="ocsimore_phrasing_link">Lwt_stream</a></h3><h3><a href=".././api/Lwt_switch" class="ocsimore_phrasing_link">Lwt_switch</a></h3><h2>Unix bindings</h2><h3><a href=".././api/Lwt_daemon" class="ocsimore_phrasing_link">Lwt_daemon</a></h3><h3><a href=".././api/Lwt_gc" class="ocsimore_phrasing_link">Lwt_gc</a></h3><h3><a href=".././api/Lwt_io" class="ocsimore_phrasing_link">Lwt_io</a></h3><h3><a href=".././api/Lwt_log" class="ocsimore_phrasing_link">Lwt_log</a></h3><h3><a href=".././api/Lwt_main" class="ocsimore_phrasing_link">Lwt_main</a></h3><h3><a href=".././api/Lwt_engine" class="ocsimore_phrasing_link">Lwt_engine</a></h3><h3><a href=".././api/Lwt_process" class="ocsimore_phrasing_link">Lwt_process</a></h3><h3><a href=".././api/Lwt_throttle" class="ocsimore_phrasing_link">Lwt_throttle</a></h3><h3><a href=".././api/Lwt_timeout" class="ocsimore_phrasing_link">Lwt_timeout</a></h3><h3><a href=".././api/Lwt_unix" class="ocsimore_phrasing_link">Lwt_unix</a></h3><h3><a href=".././api/Lwt_bytes" class="ocsimore_phrasing_link">Lwt_bytes</a></h3><h3><a href=".././api/Lwt_sys" class="ocsimore_phrasing_link">Lwt_sys</a></h3><h2>Reactive programming helpers</h2><h3><a href=".././api/Lwt_react" class="ocsimore_phrasing_link">Lwt_react</a></h3><h2>Syntax extensions</h2><h3><a href=".././api/Pa_lwt" class="ocsimore_phrasing_link">Pa_lwt</a></h3><h3><a href=".././api/Pa_lwt_log" class="ocsimore_phrasing_link">Pa_lwt_log</a></h3><h2>Terminal manipulation</h2><h3><a href=".././api/Lwt_read_line" class="ocsimore_phrasing_link">Lwt_read_line</a></h3><h3><a href=".././api/Lwt_term" class="ocsimore_phrasing_link">Lwt_term</a></h3><h3><a href=".././api/Lwt_text" class="ocsimore_phrasing_link">Lwt_text</a></h3><h2>Miscellaneous</h2><h3><a href=".././api/Lwt_glib" class="ocsimore_phrasing_link">Lwt_glib</a></h3><h3><a href=".././api/Lwt_lib" class="ocsimore_phrasing_link">Lwt_lib</a></h3><h3><a href=".././api/Lwt_preemptive" class="ocsimore_phrasing_link">Lwt_preemptive</a></h3><h3><a href=".././api/Lwt_ssl" class="ocsimore_phrasing_link">Lwt_ssl</a></h3><h2>Index</h2><h3> <span><a href=".././api/index_types">Index of types</a></span></h3><h3> <span><a href=".././api/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href=".././api/index_values">Index of values</a></span></h3><h3> <span><a href=".././api/index_attributes">Index of class attributes</a></span></h3><h3> <span><a href=".././api/index_methods">Index of class methods</a></span></h3><h3> <span><a href=".././api/index_classes">Index of classes</a></span></h3><h3> <span><a href=".././api/index_class_types">Index of class types</a></span></h3><h3> <span><a href=".././api/index_modules">Index of modules</a></span></h3><h3> <span><a href=".././api/index_module_types">Index of module types</a></span></h3></nav></nav><article class="rightcol"><h1>Module <span><a href=".././api/Lwt_term">Lwt_term</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Lwt_term</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href=".././api/Lwt_term">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Terminal control
</p><hr/><p>This modules allow you to write interactive programs using the
terminal.
</p><pre class="ocsforge_color odocwiki_code" id="VALwith_raw_mode"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">with_raw_mode</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">with_raw_mode f</span> executes <span class="odocwiki_inlinecode">f</span> while the terminal is in ``raw
mode''. Raw mode means that character are returned as the user
type them (otherwise only complete line are returned to the
program).
</p><p>If the terminal is already in raw mode, it just calls <span class="odocwiki_inlinecode">f</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALraw_mode"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">raw_mode</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> bool</span></pre><div class="odocwiki_info"><p>Returns wether the terminal is currently in raw mode</p></div><pre class="ocsforge_color odocwiki_code" id="VALenter_drawing_mode"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">enter_drawing_mode</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p>Put the terminal into drawing mode</p></div><pre class="ocsforge_color odocwiki_code" id="VALleave_drawing_mode"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">leave_drawing_mode</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p>Restore the state of the terminal</p></div><pre class="ocsforge_color odocwiki_code" id="VALshow_cursor"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">show_cursor</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">show_cursor ()</span> makes the cursor visible</p></div><pre class="ocsforge_color odocwiki_code" id="VALhide_cursor"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">hide_cursor</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">hide_cursor ()</span> makes the cursor invisible</p></div><pre class="ocsforge_color odocwiki_code" id="VALclear_screen"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">clear_screen</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">clear_screen ()</span> clears the entire screen</p></div><pre class="ocsforge_color odocwiki_code" id="VALclear_line"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">clear_line</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">clear_line ()</span> clears the current line</p></div><pre class="ocsforge_color odocwiki_code" id="VALgoto_beginning_of_line"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">goto_beginning_of_line</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">int <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">goto_beginning_of_line n</span> put the cursor at the beginning of
the <span class="odocwiki_inlinecode">n</span>th previous line.
</p><ul><li> <span class="odocwiki_inlinecode">goto_beginning_of_line 0</span> goes to the beginning of the current line
</li><li> <span class="odocwiki_inlinecode">goto_beginning_of_line 1</span> goes to the beginning of the previous line
</li><li> ...</li></ul></div><h6 id="6_Terminalinformations">Terminal informations <a class="backref" href="#6_Terminalinformations">&#182;</a></h6><pre class="ocsforge_color odocwiki_code" id="TYPEsize"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">size</span> <span class="ocsforge_color_delimiter">=</span> <span class="ocsforge_color_delimiter">{</span>
<span class="odocwiki_record"><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">lines:</span> <span class="odocwiki_type">int</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">columns:</span> <span class="odocwiki_type">int</span><span class="ocsforge_color_delimiter">;</span></span></span></span><span class="ocsforge_color_delimiter">}</span></pre><div class="odocwiki_info"><p>Terminal sizes:</p></div><pre class="ocsforge_color odocwiki_code" id="VALsize"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">size</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEsize">size</a></span> <span class="ocsforge_color_uid">React</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">signal</span></span></pre><div class="odocwiki_info"><p>Size of the terminal.</p></div><pre class="ocsforge_color odocwiki_code" id="VALcolumns"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">columns</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">int <span class="ocsforge_color_uid">React</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">signal</span></span></pre><div class="odocwiki_info"><p>Number of columns of the terminal</p></div><pre class="ocsforge_color odocwiki_code" id="VALlines"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lines</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">int <span class="ocsforge_color_uid">React</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">signal</span></span></pre><div class="odocwiki_info"><p>Number of lines of the terminal</p></div><h6 id="6_Keys">Keys <a class="backref" href="#6_Keys">&#182;</a></h6><pre class="ocsforge_color odocwiki_code" id="VALparse_key_raw"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">parse_key_raw</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span><a href=".././api/Lwt_stream#TYPEt">Lwt_stream.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">parse_key_raw st</span> recognize escape sequence in a stream of
unicode character.
</p><p>It returns either:
</p><ul><li> either single characters, like <span class="odocwiki_inlinecode">&quot;a&quot;</span>, <span class="odocwiki_inlinecode">&quot;é&quot;</span>, ...
</li><li> either escape sequences</li></ul></div><pre class="ocsforge_color odocwiki_code" id="TYPEkey"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">key</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_variants"><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key</span> <span class="ocsforge_color_keyword">of</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></span><span class="odocwiki_comments"><span class="odocwiki_comments_open">(*</span> <span>A unicode character or an uninterpreted sequence</span><span class="odocwiki_comments_close"> *)</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_up</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_down</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_left</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_right</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_f</span> <span class="ocsforge_color_keyword">of</span> <span class="odocwiki_type">int</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_next_page</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_previous_page</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_home</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_end</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_insert</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_delete</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Key_control</span> <span class="ocsforge_color_keyword">of</span> <span class="odocwiki_type">char</span></span><span class="odocwiki_comments"><span class="odocwiki_comments_open">(*</span> <span>A control key</span><span class="odocwiki_comments_close"> *)</span></span></span></span></pre><div class="odocwiki_info"><p>Type of ``decoded'' keys.
</p><p>This list is not exhaustive, but at least it should works on all
terminals:</p></div><pre class="ocsforge_color odocwiki_code" id="VALstring_of_key"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">string_of_key</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> string</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">string_of_key key</span> string representation of a key</p></div><pre class="ocsforge_color odocwiki_code" id="VALcontrol_mapping"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">control_mapping</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>int * char<span class="ocsforge_color_delimiter">)</span> list</span></pre><div class="odocwiki_info"><p>Mapping from control key codes to character codes.
</p><p>Here is the list of control keys:
</p><p>
</p><pre class=""><code class="language-ocaml translatable">+------+-------+------+------+------+-------+------------------------------------------------+
        | Char |   Oct |  Dec | Name |  Hex |  Key  | Comment                                        |
        +------+-------+------+------+------+-------+------------------------------------------------+
        |  '@' |  0o00 |    0 |  NUL | 0x00 | ^@ \0 | Null byte                                      |
        |  'a' |  0o01 |    1 |  SOH | 0x01 | ^A    | Start of heading                               |
        |  'b' |  0o02 |    2 |  STX | 0x02 | ^B    | Start of text                                  |
        |  'c' |  0o03 |    3 |  ETX | 0x03 | ^C    | End of text                                    |
        |  'd' |  0o04 |    4 |  EOT | 0x04 | ^D    | End of transmission                            |
        |  'e' |  0o05 |    5 |  ENQ | 0x05 | ^E    | Enquiry                                        |
        |  'f' |  0o06 |    6 |  ACK | 0x06 | ^F    | Acknowledge                                    |
        |  'g' |  0o07 |    7 |  BEL | 0x07 | ^G    | Ring terminal bell                             |
        |  'h' |  0o10 |    8 |   BS | 0x08 | ^H \b | Backspace                                      |
        |  'i' |  0o11 |    9 |   HT | 0x09 | ^I \t | Horizontal tab                                 |
        |  'j' |  0o12 |   10 |   LF | 0x0a | ^J \n | Line feed                                      |
        |  'k' |  0o13 |   11 |   VT | 0x0b | ^K    | Vertical tab                                   |
        |  'l' |  0o14 |   12 |   FF | 0x0c | ^L \f | Form feed                                      |
        |  'm' |  0o15 |   13 |   CR | 0x0d | ^M \r | Carriage return                                |
        |  'n' |  0o16 |   14 |   SO | 0x0e | ^N    | Shift out                                      |
        |  'o' |  0o17 |   15 |   SI | 0x0f | ^O    | Shift in                                       |
        |  'p' |  0o20 |   16 |  DLE | 0x10 | ^P    | Data link escape                               |
        |  'q' |  0o21 |   17 |  DC1 | 0x11 | ^Q    | Device control 1 (XON)                         |
        |  'r' |  0o22 |   18 |  DC2 | 0x12 | ^R    | Device control 2                               |
        |  's' |  0o23 |   19 |  DC3 | 0x13 | ^S    | Device control 3 (XOFF)                        |
        |  't' |  0o24 |   20 |  DC4 | 0x14 | ^T    | Device control 4                               |
        |  'u' |  0o25 |   21 |  NAK | 0x15 | ^U    | Negative acknowledge                           |
        |  'v' |  0o26 |   22 |  SYN | 0x16 | ^V    | Synchronous idle                               |
        |  'w' |  0o27 |   23 |  ETB | 0x17 | ^W    | End of transmission block                      |
        |  'x' |  0o30 |   24 |  CAN | 0x18 | ^X    | Cancel                                         |
        |  'y' |  0o31 |   25 |   EM | 0x19 | ^Y    | End of medium                                  |
        |  'z' |  0o32 |   26 |  SUB | 0x1a | ^Z    | Substitute character                           |
        |  '[' |  0o33 |   27 |  ESC | 0x1b | ^[    | Escape                                         |
        |  '\' |  0o34 |   28 |   FS | 0x1c | ^\    | File separator, Information separator four     |
        |  ']' |  0o35 |   29 |   GS | 0x1d | ^]    | Group separator, Information separator three   |
        |  '^' |  0o36 |   30 |   RS | 0x1e | ^^    | Record separator, Information separator two    |
        |  '_' |  0o37 |   31 |   US | 0x1f | ^_    | Unit separator, Information separator one      |
        |  '?' | 0o177 |  127 |  DEL | 0x7f | ^?    | Delete                                         |
        +------+-------+------+------+------+-------+------------------------------------------------+</code></pre></div><pre class="ocsforge_color odocwiki_code" id="VALkey_enter"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">key_enter</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">key_enter = Key_control 'j'</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALkey_escape"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">key_escape</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">key_escape = Key_control '['</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALkey_tab"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">key_tab</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">key_escape = Key_control 'i'</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALkey_backspace"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">key_backspace</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">key_backspace = Key_control '?'</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALsequence_mapping"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">sequence_mapping</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> * <span><a href=".././api/Lwt_term#TYPEkey">key</a></span><span class="ocsforge_color_delimiter">)</span> list</span></pre><div class="odocwiki_info"><p>Mapping from sequence to keys</p></div><pre class="ocsforge_color odocwiki_code" id="VALdecode_key"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">decode_key</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Lwt_term#TYPEkey">key</a></span></span></pre><div class="odocwiki_info"><p>Decode a key.</p></div><pre class="ocsforge_color odocwiki_code" id="VALstandard_input"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">standard_input</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span><a href=".././api/Lwt_stream#TYPEt">Lwt_stream.t</a></span></span></pre><div class="odocwiki_info"><p>The input stream used by <span><a href=".././api/Lwt_term#VALread_key">Lwt_term.read_key</a></span></p></div><pre class="ocsforge_color odocwiki_code" id="VALread_key"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">read_key</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Lwt_term#TYPEkey">key</a></span> <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p>Get and decode a key from <span><a href=".././api/Lwt_term#VALstandard_input">Lwt_term.standard_input</a></span></p></div><h6 id="6_Styles">Styles <a class="backref" href="#6_Styles">&#182;</a></h6><pre class="ocsforge_color odocwiki_code" id="TYPEcolor"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">color</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">int</span></pre><div class="odocwiki_info"><p>Type of a color. Most modern terminals support either 88 or
256 colors.</p></div><pre class="ocsforge_color odocwiki_code" id="VALset_color"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">set_color</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> int * int * int <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">set_color num (red, green, blue)</span> sets the three components of
the color number <span class="odocwiki_inlinecode">num</span></p></div><div class="h8"><p>Standard colors</p></div><pre class="ocsforge_color odocwiki_code" id="VALdefault"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">default</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALblack"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">black</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALred"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">red</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALgreen"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">green</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALyellow"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">yellow</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALblue"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">blue</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALmagenta"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">magenta</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALcyan"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">cyan</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALwhite"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">white</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><div class="h8"><p>Light colors</p></div><p>Note: these colors are not supposed to works on all terminals, but
in practice it works with all modern ones. By the way, using
standard colors + bold mode will give the same result as using a
light color.
</p><pre class="ocsforge_color odocwiki_code" id="VALlblack"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lblack</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALlred"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lred</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALlgreen"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lgreen</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALlyellow"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lyellow</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALlblue"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lblue</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALlmagenta"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lmagenta</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALlcyan"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lcyan</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALlwhite"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lwhite</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></pre><div class="h8"><p>Text with styles</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEstyled_text_instruction"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">styled_text_instruction</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_variants"><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Text</span> <span class="ocsforge_color_keyword">of</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></span><span class="odocwiki_comments"><span class="odocwiki_comments_open">(*</span> <span>Some text</span><span class="odocwiki_comments_close"> *)</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Reset</span></span><span class="odocwiki_comments"><span class="odocwiki_comments_open">(*</span> <span>Resets all styles to default</span><span class="odocwiki_comments_close"> *)</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Bold</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Underlined</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Blink</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Inverse</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Hidden</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Foreground</span> <span class="ocsforge_color_keyword">of</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">Background</span> <span class="ocsforge_color_keyword">of</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span></span></span></span></pre><div class="odocwiki_info"><p>Elmement of a styled-text</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEstyled_text"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">styled_text</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span> list</span></pre><div class="odocwiki_info"><p>A styled text is a list of instructions</p></div><pre class="ocsforge_color odocwiki_code" id="VALtextf"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">textf</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>'a, unit, string, <span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Pervasives</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">format4</span> <span class="ocsforge_color_delimiter">-&gt;</span> 'a</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">textf fmt</span> formats a texts with <span class="odocwiki_inlinecode">fmt</span> and returns <span class="odocwiki_inlinecode">Text txt</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALtext"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">text</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALreset"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">reset</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALbold"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">bold</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALunderlined"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">underlined</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALblink"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">blink</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALinverse"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">inverse</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALhidden"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">hidden</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALfg"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">fg</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">fg col = Foreground col</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALbg"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">bg</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Lwt_term#TYPEstyled_text_instruction">styled_text_instruction</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">bg col = Background col</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALstrip_styles"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">strip_styles</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Drop all styles</p></div><pre class="ocsforge_color odocwiki_code" id="VALstyled_length"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">styled_length</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> int</span></pre><div class="odocwiki_info"><p>Returns the length (in unicode character) of the given styled
text. The following equality holds for all styled-texts:
</p><p><span class="odocwiki_inlinecode">styled_length st = Text.length (strip_styles st)</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALwrite_styled"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">write_styled</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_text#TYPEoutput_channel">Lwt_text.output_channel</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">write_styled oc st</span> writes <span class="odocwiki_inlinecode">st</span> on <span class="odocwiki_inlinecode">oc</span> using escape
sequences.</p></div><pre class="ocsforge_color odocwiki_code" id="VALprintc"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">printc</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">printc st</span> prints the given styled text on standard output. If
stdout is not a tty, then styles are stripped.
</p><p>The text is encoded to the system encoding before being
output.</p></div><pre class="ocsforge_color odocwiki_code" id="VALeprintc"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">eprintc</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p>Same as <span class="odocwiki_inlinecode">printc</span> but prints on stderr.</p></div><pre class="ocsforge_color odocwiki_code" id="VALprintlc"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">printlc</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">printlc st</span> prints <span class="odocwiki_inlinecode">st</span>, then reset styles and prints a
newline</p></div><pre class="ocsforge_color odocwiki_code" id="VALeprintlc"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">eprintlc</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyled_text">styled_text</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p>Same as <span class="odocwiki_inlinecode">printlc</span> but prints on stderr</p></div><h6 id="6_Rendering">Rendering <a class="backref" href="#6_Rendering">&#182;</a></h6><pre class="ocsforge_color odocwiki_code" id="TYPEstyle"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">style</span> <span class="ocsforge_color_delimiter">=</span> <span class="ocsforge_color_delimiter">{</span>
<span class="odocwiki_record"><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">bold:</span> <span class="odocwiki_type">bool</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">underlined:</span> <span class="odocwiki_type">bool</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">blink:</span> <span class="odocwiki_type">bool</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">inverse:</span> <span class="odocwiki_type">bool</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">hidden:</span> <span class="odocwiki_type">bool</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">foreground:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">background:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEcolor">color</a></span></span><span class="ocsforge_color_delimiter">;</span></span></span></span><span class="ocsforge_color_delimiter">}</span></pre><div class="odocwiki_info"><p>Character styles</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEpoint"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">point</span> <span class="ocsforge_color_delimiter">=</span> <span class="ocsforge_color_delimiter">{</span>
<span class="odocwiki_record"><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">char:</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Text</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span><span class="ocsforge_color_delimiter">;</span></span><span class="odocwiki_comments"><span class="odocwiki_comments_open">(*</span> <span>The character.</span><span class="odocwiki_comments_close"> *)</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">style:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEstyle">style</a></span></span><span class="ocsforge_color_delimiter">;</span></span><span class="odocwiki_comments"><span class="odocwiki_comments_open">(*</span> <span>The character style</span><span class="odocwiki_comments_close"> *)</span></span></span></span><span class="ocsforge_color_delimiter">}</span></pre><div class="odocwiki_info"><p>A character on the screen:</p></div><pre class="ocsforge_color odocwiki_code" id="VALblank"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">blank</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEpoint">point</a></span></span></pre><div class="odocwiki_info"><p>A space with default color and styles</p></div><pre class="ocsforge_color odocwiki_code" id="VALrender"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">render</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEpoint">point</a></span> array array <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p>Render an offscreen array to the terminal.</p></div><pre class="ocsforge_color odocwiki_code" id="VALrender_update"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">render_update</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Lwt_term#TYPEpoint">point</a></span> array array <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Lwt_term#TYPEpoint">point</a></span> array array <span class="ocsforge_color_delimiter">-&gt;</span> unit <span><a href=".././api/Lwt#TYPEt">Lwt.t</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">render_update displayed to_display</span> does the same as <span class="odocwiki_inlinecode">render
to_display</span> but assumes that <span class="odocwiki_inlinecode">displayed</span> contains the current
displayed text. This reduces the amount of text sent to the
terminal.</p></div><h6 id="6_Drawing">Drawing <a class="backref" href="#6_Drawing">&#182;</a></h6><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span><a href=".././api/Lwt_term.Zone">Zone</a></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href=".././api/Lwt_term.Zone">..</a></span><span class="ocsforge_color_keyword">end</span></pre><div class="odocwiki_info"><p>Off-screen zones</p></div><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span><a href=".././api/Lwt_term.Draw">Draw</a></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href=".././api/Lwt_term.Draw">..</a></span><span class="ocsforge_color_keyword">end</span></pre><div class="odocwiki_info"><p>Drawing helpers</p></div></article></div></div></body></html>
