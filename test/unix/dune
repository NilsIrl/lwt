(library
 (name tester)
 (libraries lwt lwttester)
 (modules (:standard \ main test_lwt_effs dummy) ))

(executable
 (name dummy)
 (modules dummy)
 (libraries unix))

(executable
 (name main)
 (libraries lwttester tester)
 (modules main))

(executable
 (name test_lwt_effs)
 (libraries lwttester tester)
 (modules test_lwt_effs))

(alias
 (name runtest)
 (package lwt)
 (action (run %{exe:main.exe}))
 (deps bytes_io_data %{exe:dummy.exe})
)

(alias
 (name runtest)
 (package lwt)
 (action (run %{exe:test_lwt_effs.exe}))
)
